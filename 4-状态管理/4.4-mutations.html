<script src="../node_modules/vue/dist/vue.js"></script>

<div id="app">
    <counter></counter>
    <counter></counter>
    <counter></counter>
    <button @click="inc">increment</button>
</div>

<script>
    // 实现 createStore 的功能
    var createStore = function ({ state, mutations }) {
        // createStore
    }

    var store = createStore({
        state: { count: 0 },
        mutations: {
            inc(state) {
                state.count++
            }
        }
    })

    var Counter = {
        render(h) {
            return h('div', store.state.count)
        }
    }

    new Vue({
        el: '#app',
        components: { Counter },
        methods: {
            inc() {
                store.commit('inc')
            }
        }
    })
</script>